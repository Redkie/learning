# 爬虫基础

## 什么是爬虫

爬虫（Spider）是一种自动化的程序，它可以自动地抓取互联网上的网页，并从网页中提取有用的数据。

## 爬虫的作用

爬虫的作用主要有以下几点：

1. 抓取网页：爬虫可以自动地抓取互联网上的网页，并将网页内容存储到本地。

2. 数据分析：爬虫可以分析网页内容，提取有用的数据，并将数据存储到数据库中。

3. 数据采集：爬虫可以定期地抓取网页，从而获取最新的信息。

4. 数据监控：爬虫可以监控网页的变化，及时发现网页上的变化，并及时采集更新的数据。

5. 反垃圾：爬虫可以帮助网站防止垃圾信息的侵扰。

## 爬虫的分类

爬虫可以分为以下几类：

1. 蜘蛛（Spider）：爬虫的一种，主要用于抓取网页内容。

2. 机器人（Robot）：爬虫的一种，主要用于模拟人类的行为，以获取网页内容。

3. 聚合器（Aggregator）：爬虫的一种，主要用于整合多个网站的内容，并提供搜索引擎的功能。

4. 索引器（Indexer）：爬虫的一种，主要用于建立索引，以便快速检索。


6. 爬虫框架（Spider Framework）：爬虫的一种，主要用于简化爬虫的开发。

## 爬虫的工作原理

爬虫的工作原理可以分为以下几个步骤：

1. 发现：爬虫首先需要发现目标网站的网址。

2. 爬取：爬虫通过向目标网站发送请求，获取网页内容。

3. 解析：爬虫解析网页内容，提取有用的数据。

4. 存储：爬虫将提取的数据存储到本地或数据库中。

5. 反爬：爬虫应对网站的反爬措施，以免被网站封禁。

## 爬虫的优点

爬虫的优点主要有以下几点：

1. 快速：爬虫可以快速地抓取网页，并提取有用的数据。

2. 准确：爬虫可以准确地抓取网页内容，并提取有用的数据。

3. 广泛：爬虫可以抓取大量的网页，并提供搜索引擎的功能。

4. 自动化：爬虫可以自动化地抓取网页，并提供数据分析的功能。

5. 便利：爬虫可以提供便利的搜索引擎，并提供数据采集的功能。

## 爬虫的缺点

爬虫的缺点主要有以下几点：

1. 反扒：爬虫可能会遭遇网站的反扒措施，导致无法抓取网页。

2. 成本高：爬虫的成本高，需要有足够的硬件和软件支持。

3. 安全：爬虫可能会遭受网络安全攻击，导致数据泄露。

4. 隐私：爬虫可能会收集个人信息，并将其上传到云端。

5. 法律：爬虫可能会违反网站的法律法规，导致法律纠纷。

6. 性能：爬虫的性能受限于硬件的性能。
## 爬虫的应用场景

爬虫的应用场景主要有以下几种：

1. 数据采集：爬虫可以用于数据采集，获取网站的最新信息。

2. 数据分析：爬虫可以用于数据分析，提取网站的有用信息。

3. 信息监控：爬虫可以用于信息监控，监控网站的变化，及时采集更新的数据。

4. 反垃圾：爬虫可以用于反垃圾，帮助网站防止垃圾信息的侵扰。

5. 网络监控：爬虫可以用于网络监控，获取网站的流量信息。

6. 网络安全：爬虫可以用于网络安全，获取网站的安全信息。

7. 网络爬虫：爬虫可以用于网络爬虫，获取网站的结构信息。

8. 网络搜索：爬虫可以用于网络搜索，提供搜索引擎的功能。
# http基本原理
### content-type和post提交数据方式的联系
|content-type|post提交数据方式|
|----|----|
|application/x-www-form-urlencoded|form表单数据|
|multipart/form-data|表单文件上传|
|application/json|序列化json数据|
|text/xml|xml数据|
在爬虫中，构造post请求需要使用正确的content-type，才能正确地提交数据。

### 响应状态码
|状态码|说明|详情|
|----|
|1xx|信息提示|接收到请求，继续处理|
|2xx|成功|请求成功，理解并接受|
|3xx|重定向|需要进行附加操作以完成请求|
|4xx|客户端错误|请求包含语法错误或无法完成请求|
|5xx|服务器错误|服务器无法完成请求|
在爬虫中，响应状态码有助于分析爬虫的运行情况。

### 响应头
|响应头|说明|
|----|----|
|Content-Type|响应数据的类型 比如：text/html返回网页数据, application/json返回json数据, image/jpeg返回图片数据,application/x-javascript返回js数据等|
|Content-Length|响应数据的长度|
|Content-Encoding|响应数据的编码方式|
|Content-Language       |响应数据的语言|
|Content-Location        |重定向的地址|
|Content-MD5         |响应数据的MD5值|
|Content-Range|响应数据的范围|
|Content-Type|响应数据的类型|
|Date|响应的日期和时间|
|ETag|响应数据的标识符|
|Expires|响应数据的过期时间|
|Last-Modified|响应数据的最后修改时间|
|Server|服务器的类型和版本|
|set-cookie|设置cookie|
响应头的作用主要是提供更多的信息给客户端，帮助客户端处理响应数据。  
### 响应体
响应体是服务器返回给客户端的数据，主要包含网页内容、图片、音频、视频等。使用爬虫主要就是获取响应体中的数据。

## http2.0
http2.0是HTTP协议的升级版，主要解决了HTTP1.1的一些问题，比如：

1. 多路复用：HTTP1.1中，同一时间只能使用一个TCP连接，导致效率低下，而HTTP2.0支持多路复用，可以同时使用多个TCP连接，提高传输效率。

2. 服务器推送：HTTP2.0支持服务器推送，可以服务器主动推送资源，而不需要客户端再次请求。

3. 头部压缩：HTTP2.0支持头部压缩，可以减少请求头的大小，加快请求响应速度。

4. 优先级：HTTP2.0支持优先级，可以让服务器优先处理重要资源，提高响应速度。

### 二进制分帧
HTTP2.0在应用层和传输层之间增加了一层二进制分帧层，使得HTTP2.0的协议数据单元不再是文本，而是二进制数据。

HTTP2.0的二进制分帧层，将HTTP2.0的帧分成更小的帧，并在每个帧中都包含了帧头信息和负载数据。\r\n\r\n是HTTP1.1的分隔符，而HTTP2.0的分隔符是\x00\x00。